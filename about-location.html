<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Location | FINDS Lab — Dongduk Woman University</title>
  <meta name="description" content="FINDS Lab Location — Dongduk Woman University Humanities Building" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;700;900&family=Noto+Sans:wght@400;600;700;900&family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Kakao Maps SDK (services 포함) -->
  <script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=2288f6c721287408c4bdc22f994230ad&libraries=services"></script>

  <style>
    :root{
      --accent: rgb(172, 14, 14);   /* red */
      --gold:   rgb(214, 177, 77);  /* gold */
      --fg-on-accent:#ffffff;
      --bg:#ffffff;
      --bg-soft:#f8fafc;
      --ring:0 0 0 3px rgba(172,14,14,.25);
    }
    html,body{font-family:"Noto Sans KR","Noto Sans","Roboto",system-ui,-apple-system,"Segoe UI",Arial,sans-serif;}
    .sticky-blur{position:sticky;top:0;z-index:3000;backdrop-filter:saturate(180%) blur(8px);background:rgba(255,255,255,.85)}
    .nav-link{font-weight:800}
    .nav-link:hover{color:var(--accent)}
    .submenu-panel{font-size:13px; line-height:1.25rem; width:13.5rem}
    .submenu-item{padding:.35rem .75rem; font-weight:700}

    /* 서브메뉴: 지도 위에서도 안전하게 */
    .menu-group{position:relative}
    .menu-group .js-submenu{
      visibility:hidden;opacity:0;transform:translateY(6px);
      transition:visibility .18s ease, opacity .18s ease, transform .18s ease;
      z-index:4000; pointer-events:auto;
    }
    .menu-group.open .js-submenu{visibility:visible;opacity:1;transform:translateY(0)}

    .btn-primary{background:var(--accent);color:var(--fg-on-accent);border-radius:.75rem;padding:.6rem 1rem;font-weight:900;box-shadow:0 6px 20px rgba(0,0,0,.12);transition:transform .18s ease, opacity .18s ease}
    .btn-primary:hover{transform:translateY(-1px);opacity:.95}
    .tag-accent{background:var(--accent);color:var(--fg-on-accent);border-radius:9999px;padding:.22rem .55rem;font-size:.72rem;font-weight:900}
    .tag-gold{background:var(--gold);color:#111827;border-radius:9999px;padding:.22rem .55rem;font-size:.72rem;font-weight:900}
    .card{background:#fff;border:1px solid #e5e7eb;border-radius:1rem;padding:1.1rem}
    :focus-visible{outline:none;box-shadow:var(--ring)}
    *{scrollbar-width:thin;scrollbar-color:var(--accent) #f1f5f9}
    *::-webkit-scrollbar{height:8px;width:8px}
    *::-webkit-scrollbar-thumb{background:var(--accent);border-radius:9999px}

    /* Map */
    #kakao-map{width:100%; height:460px; border-radius:1rem; overflow:hidden; border:1px solid #e5e7eb; position:relative; z-index:1;}
    @media (max-width: 640px){
      #kakao-map{height:360px;}
    }

    .info-row{display:flex; align-items:flex-start; gap:.6rem}
    .info-row img{width:18px; height:18px; margin-top:.15rem}
    .copy-btn{display:inline-flex; align-items:center; gap:.35rem; padding:.25rem .55rem; border-radius:.6rem; border:1px solid #e5e7eb; font-weight:700; font-size:.75rem}
    .copy-btn:hover{background:#f8fafc}
  </style>
</head>
<body class="bg-[var(--bg-soft)]">
  <!-- Header -->
  <div class="sticky-blur border-b border-slate-200">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between gap-4">
      <a href="./" class="flex items-center gap-3">
        <img src="assets/img/brand/logo-finds.png" alt="FINDS Lab Logo" class="h-9 w-9 rounded-lg ring-1 ring-slate-200 object-contain bg-white" />
        <div class="leading-tight">
          <div class="text-sm font-extrabold tracking-tight" style="color:var(--accent)">Financial Data Science Lab.</div>
          <div class="text-[12px] font-semibold text-slate-600">Dongduk Woman University</div>
        </div>
      </a>

      <nav class="hidden md:flex items-center gap-6">
        <a class="nav-link" href="./"><b>Home</b></a>

        <!-- About FINDS -->
        <div class="relative menu-group" data-menu>
          <a class="nav-link" href="about-introduction.html"><b>About FINDS</b></a>
          <div class="absolute top-full left-0 bg-white border border-slate-200 rounded-xl mt-1 py-2 submenu-panel shadow-xl js-submenu">
            <a class="block submenu-item hover:bg-slate-50" href="about-introduction.html">Introduction</a>
            <a class="block submenu-item hover:bg-slate-50" href="about-vision-area.html">Research Area</a>
            <a class="block submenu-item hover:bg-slate-50" href="about-notice.html">Notice</a>
            <a class="block submenu-item hover:bg-slate-50" href="about-awards.html">Awards</a>
            <a class="block submenu-item hover:bg-slate-50" href="about-location.html">Location</a>
          </div>
        </div>

        <!-- Members -->
        <div class="relative menu-group" data-menu>
          <a class="nav-link" href="members-director.html"><b>Members</b></a>
          <div class="absolute top-full left-0 bg-white border border-slate-200 rounded-xl mt-1 py-2 submenu-panel shadow-xl js-submenu">
            <a class="block submenu-item hover:bg-slate-50" href="members-director.html">Director</a>
            <a class="block submenu-item hover:bg-slate-50" href="members-current.html">Current Students</a>
            <a class="block submenu-item hover:bg-slate-50" href="members-alumni.html">Alumni</a>
            <a class="block submenu-item hover:bg-slate-50" href="members-mentorship.html">Mentorship</a>
          </div>
        </div>

        <!-- Publications / Lectures / Projects -->
        <a class="nav-link" href="publications-all.html"><b>Publications</b></a>
        <a class="nav-link" href="lectures.html"><b>Lectures</b></a>
        <a class="nav-link" href="projects.html"><b>Projects</b></a>

        <!-- Archives -->
        <div class="relative menu-group" data-menu>
          <a class="nav-link" href="archives-news.html"><b>Archives</b></a>
          <div class="absolute top-full left-0 bg-white border border-slate-200 rounded-xl mt-1 py-2 submenu-panel shadow-xl js-submenu">
            <a class="block submenu-item hover:bg-slate-50" href="archives-news.html">News</a>
            <a class="block submenu-item hover:bg-slate-50" href="archives-seminar.html">Seminar</a>
            <a class="block submenu-item hover:bg-slate-50" href="archives-gallery.html">Gallery</a>
          </div>
        </div>
      </nav>

      <!-- Mobile toggle -->
      <div class="flex items-center gap-2">
        <button id="btnMobile" class="md:hidden inline-flex items-center justify-center h-10 w-10 rounded-lg border border-slate-200 bg-white" aria-label="Open menu">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
      </div>
    </div>

    <!-- Mobile Nav -->
    <div id="mobileNav" class="md:hidden max-w-7xl mx-auto px-4 pb-3 hidden">
      <div class="grid gap-2 bg-white border border-slate-200 rounded-xl p-3 max-h-[70vh] overflow-y-auto">
        <a class="px-3 py-2 rounded-md hover:bg-slate-50 font-extrabold" href="./">Home</a>

        <div class="px-3 py-2">
          <a class="block font-extrabold mb-1" href="about-introduction.html">About FINDS</a>
          <div class="pl-3 grid text-[14px]">
            <a class="py-1 hover:underline font-bold" href="about-introduction.html">Introduction</a>
            <a class="py-1 hover:underline font-bold" href="about-vision-area.html">Research Area</a>
            <a class="py-1 hover:underline font-bold" href="about-notice.html">Notice</a>
            <a class="py-1 hover:underline font-bold" href="about-awards.html">Awards</a>
            <a class="py-1 hover:underline font-bold" href="about-location.html">Location</a>
          </div>
        </div>

        <div class="px-3 py-2">
          <a class="block font-extrabold mb-1" href="members-director.html">Members</a>
          <div class="pl-3 grid text-[14px]">
            <a class="py-1 hover:underline font-bold" href="members-director.html">Director</a>
            <a class="py-1 hover:underline font-bold" href="members-current.html">Current Students</a>
            <a class="py-1 hover:underline font-bold" href="members-alumni.html">Alumni</a>
            <a class="py-1 hover:underline font-bold" href="members-mentorship.html">Mentorship</a>
          </div>
        </div>

        <a class="px-3 py-2 rounded-md hover:bg-slate-50 font-extrabold" href="publications-all.html">Publications</a>
        <a class="px-3 py-2 rounded-md hover:bg-slate-50 font-extrabold" href="lectures.html">Lectures</a>
        <a class="px-3 py-2 rounded-md hover:bg-slate-50 font-extrabold" href="projects.html">Projects</a>

        <div class="px-3 py-2">
          <a class="block font-extrabold mb-1" href="archives-news.html">Archives</a>
          <div class="pl-3 grid text-[14px]">
            <a class="py-1 hover:underline font-bold" href="archives-news.html">News</a>
            <a class="py-1 hover:underline font-bold" href="archives-seminar.html">Seminar</a>
            <a class="py-1 hover:underline font-bold" href="archives-gallery.html">Gallery</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Page Title -->
  <section class="max-w-7xl mx-auto px-4 mt-6">
    <div class="rounded-xl border border-slate-200 bg-white p-4 flex items-center justify-between">
      <div>
        <div class="flex items-center gap-2">
          <span class="tag-accent">About FINDS</span>
          <span class="tag-gold">Location</span>
        </div>
        <h1 class="mt-2 text-2xl md:text-3xl font-extrabold tracking-tight text-slate-900">동덕여자대학교 인문관 (학교부속시설)</h1>
        <p class="text-sm text-slate-600 mt-1">서울 성북구 화랑로13길 60 · (지번) 상월곡동 86-78</p>
      </div>
    </div>
  </section>

  <!-- Map + Info -->
  <main class="max-w-7xl mx-auto px-4 mt-6 grid lg:grid-cols-3 gap-6">
    <!-- Map -->
    <div class="lg:col-span-2 card">
      <div id="kakao-map" role="img" aria-label="동덕여자대학교 인문관 위치 지도"></div>
      <div class="mt-3 flex items-center justify-between">
        <div class="text-[12px] text-slate-500">Powered by Kakao Maps</div>
        <div class="flex items-center gap-2">
          <button id="btnRecenter" class="copy-btn" title="지도 다시 맞추기">Re-center</button>
          <a id="btnDirections" href="#" target="_blank" rel="noopener noreferrer" class="copy-btn" title="카카오맵 길찾기">Directions</a>
        </div>
      </div>
    </div>

    <!-- Info -->
    <aside class="card">
      <h3 class="text-lg font-extrabold text-slate-900">FINDS Lab @ Dongduk Woman University</h3>
      <p class="text-sm text-slate-600 mt-1">Humanities Building (인문관)</p>

      <div class="mt-4 space-y-3">
        <div class="info-row">
          <img src="assets/icons/marker.png" alt="" />
          <div>
            <div id="addr-ko" class="text-[15px] font-semibold text-slate-900">서울 성북구 화랑로13길 60</div>
            <div id="addr-jibun" class="text-[12px] text-slate-600">(지번) 상월곡동 86-78</div>
            <div class="mt-1">
              <button id="btnCopyAddr" class="copy-btn" title="주소 복사">Copy address</button>
            </div>
          </div>
        </div>
        <!-- 전화/이메일 섹션은 요청에 따라 제거 -->
      </div>

      <div class="mt-5 p-3 rounded-lg bg-slate-50 border border-slate-200">
        <div class="text-[12px] text-slate-600">
          * 장소명이 정확히 매핑되지 않을 경우, 캠퍼스 중심 좌표로 안내될 수 있습니다. 지도에서 확대하여 위치를 확인하세요.
        </div>
      </div>
    </aside>
  </main>

  <!-- Footer -->
  <footer class="mt-10 border-t border-slate-200 bg-white">
    <div class="max-w-7xl mx-auto px-4 py-8">
      <ul class="flex flex-wrap gap-x-4 gap-y-2 justify-center text-sm font-semibold">
        <li><a class="hover:underline" href="https://www.dongduk.ac.kr/" target="_blank" rel="noopener">동덕여자대학교</a></li>
        <li><a class="hover:underline" href="https://manage.dongduk.ac.kr/" target="_blank" rel="noopener">동덕여자대학교 경영학과</a></li>
        <li><a class="hover:underline" href="https://scholar.google.com/" target="_blank" rel="noopener">Google Scholar</a></li>
        <li><a class="hover:underline" href="https://www.nrf.re.kr/" target="_blank" rel="noopener">한국연구재단</a></li>
      </ul>
      <p class="mt-4 text-center text-xs text-slate-500">
        Copyright © 2025 Financial Data Science Lab. All Rights Reserved.
      </p>
    </div>
  </footer>

  <script>
    // ===== Mobile menu toggle =====
    const btnMobile = document.getElementById('btnMobile');
    const mobileNav = document.getElementById('mobileNav');
    btnMobile?.addEventListener('click', ()=> mobileNav.classList.toggle('hidden'));

    // ===== Desktop submenu keep-open (70ms) =====
    const MENU_DELAY = 70;
    document.querySelectorAll('.menu-group[data-menu]').forEach(grp=>{
      const panel = grp.querySelector('.js-submenu');
      let t;
      const open  = ()=>{ clearTimeout(t); grp.classList.add('open'); };
      const close = ()=>{ t = setTimeout(()=> grp.classList.remove('open'), MENU_DELAY); };
      grp.addEventListener('mouseenter', open);
      grp.addEventListener('mouseleave', close);
      grp.addEventListener('focusin', open);
      grp.addEventListener('focusout', close);
    });

    // ===== Kakao Map Setup (고정 주소 지오코딩) =====
    const mapEl = document.getElementById('kakao-map');
    const btnCopyAddr = document.getElementById('btnCopyAddr');
    const btnDirections = document.getElementById('btnDirections');
    const btnRecenter = document.getElementById('btnRecenter');

    const geocoder = new kakao.maps.services.Geocoder();

    const PLACE_NAME = '동덕여자대학교 인문관 (학교부속시설)';
    const ADDR_ROAD  = '서울 성북구 화랑로13길 60';
    const ADDR_JIBUN = '서울 성북구 상월곡동 86-78';

    // 지도 기본(서울 중심)
    const map = new kakao.maps.Map(mapEl, {
      center: new kakao.maps.LatLng(37.5665, 126.9780),
      level: 5
    });

    let currentPos = null;

    function setMarkerAndInfo(lat, lng, name, addressRoad){
      const pos = new kakao.maps.LatLng(lat, lng);
      currentPos = pos;
      map.setCenter(pos);

      const marker = new kakao.maps.Marker({ position: pos });
      marker.setMap(map);

      const iwContent = `
        <div style="padding:8px 10px; font-size:12px; max-width:240px;">
          <div style="font-weight:800; margin-bottom:4px; color:#111827;">${name}</div>
          <div style="color:#374151;">${addressRoad}</div>
          <div style="color:#6b7280; font-size:11px; margin-top:2px;">(지번) ${ADDR_JIBUN}</div>
          <div style="margin-top:6px;">
            <a href="https://map.kakao.com/link/to/${encodeURIComponent(name)},${lat},${lng}" target="_blank" rel="noopener" style="color:#ac0e0e; font-weight:800; text-decoration:underline; text-underline-offset:2px;">길찾기</a>
          </div>
        </div>
      `;
      new kakao.maps.InfoWindow({ position: pos, content: iwContent }).open(map, marker);

      // Directions 버튼
      btnDirections.href = `https://map.kakao.com/link/to/${encodeURIComponent(name)},${lat},${lng}`;
    }

    // 도로명 주소로 좌표 조회 → 마커/인포윈도우 세팅
    geocoder.addressSearch(ADDR_ROAD, (result, status) => {
      if (status === kakao.maps.services.Status.OK && result[0]) {
        const { x, y } = result[0]; // x=lng, y=lat
        setMarkerAndInfo(y, x, PLACE_NAME, ADDR_ROAD);
      } else {
        // 지오코딩 실패 시: 서울시청 임시 포커스 + 버튼은 주소 링크만
        setMarkerAndInfo(37.5665, 126.9780, PLACE_NAME, ADDR_ROAD);
        console.warn('주소 지오코딩 실패: ', status, result);
      }
    });

    // 주소 복사
