---
layout: default
title: projects
permalink: /projects.html
---

<!-- ===== Styles ===== -->
<style>
/* Breadcrumbs */
.breadcrumbs{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center;font-size:12px}
.breadcrumbs a{color:#e5e7eb}
.breadcrumbs a:hover{text-decoration:underline}
.breadcrumbs .sep{opacity:.8}

:root{
  /* Project type/status colors */
  --public-red: rgb(172, 14, 14);
  --private-gold: rgb(214, 177, 77);
  --ongoing-black: #111827;
  --completed-gray: #9ca3af;
}

/* Toolbar */
.toolbar{display:flex;flex-direction:column;gap:14px;background:#f8fafc;border:1px solid #e5e7eb;border-radius:1rem;padding:16px;margin-top:20px}
.search-container{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.search{flex:1;min-width:0}
.search input{width:100%;border:1px solid #e5e7eb;border-radius:.6rem;padding:.6rem .8rem;font-size:14px;box-sizing:border-box}

/* Filter Section */
.filter-section{margin-top:8px}
.filter-label{font-size:12px;font-weight:700;color:#6b7280;text-transform:uppercase;letter-spacing:.5px;margin-bottom:8px;display:block}
.chips{display:flex;flex-wrap:wrap;gap:8px}

/* Filter Chips */
.chip{padding:.5rem 1rem;border-radius:999px;border:1px solid transparent;background:#fff;font-weight:700;font-size:12px;cursor:pointer;transition:all .2s;text-transform:uppercase;letter-spacing:.3px}
.chip:hover{transform:translateY(-1px);box-shadow:0 2px 8px rgba(0,0,0,.1)}
.chip.is-on{box-shadow:inset 0 0 0 2px #111827}
.chip:focus-visible{outline:2px solid #111827;outline-offset:2px}

/* Grid: 한 줄에 한 프로젝트 */
.grid{display:grid;gap:14px;margin-top:14px;grid-template-columns:1fr}

/* Card (outer tint = type color) */
.card{border-radius:1rem;overflow:hidden}
.card.card--public{background:rgba(172, 14, 14, 0.15)}
.card.card--private{background:rgba(214, 177, 77, 0.18)}

/* Inner white body */
.inner{position:relative;background:#fff;border-radius:.9rem;margin:10px;overflow:hidden;border:1px solid #e5e7eb;transition:border-color .2s, box-shadow .2s}
.card:hover .inner{box-shadow:0 6px 20px rgba(0,0,0,.06)}

/* 왼쪽 프로젝트 타입 색상 포인트 */
.type-notch{position:absolute;left:12px;top:12px;bottom:12px;width:8px;border-radius:8px;background:#ddd}

/* 본문 */
.body{padding:14px 16px 14px 44px}

/* 배지 그룹 구분 */
.badges-status{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:6px}
.badges-keywords{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:10px}

/* 배지 (키워드/타입/상태 공통) — 전반적 폰트 축소 */
.badge{display:inline-block;padding:.22rem .55rem;border-radius:999px;font-weight:800;font-size:10px;background:#f8fafc;border:1px solid #e5e7eb;text-transform:uppercase;white-space:nowrap}

/* 프로젝트 제목 — 전반적 폰트 살짝 축소 */
.project-title-en{font-size:14px;font-weight:900;color:#111827;margin-top:8px}
.project-title-ko{font-size:12px;color:#6b7280;margin-top:4px;word-break:keep-all} /* 한국어 단어 단위 줄바꿈 */

/* 메타 정보 — 라벨/값 간 간격 늘리고 전체 폰트 축소 */
.meta-info{
  display:grid;
  grid-template-columns:minmax(110px, 150px) 1fr;
  column-gap:12px;          /* 라벨과 값 사이 여백 */
  row-gap:8px;              /* 항목 간 세로 여백 */
  margin-top:12px;
  padding-top:12px;
  border-top:1px solid #f3f4f6
}
.meta-item{
  display:contents;         /* 각 항목을 grid row로 배치 */
  font-size:10.5px;
}
.meta-label{font-weight:800;color:#374151;font-size:10.5px;line-height:1.5}
.meta-value{color:#111827;font-size:10.5px;line-height:1.5}
.meta-value .ko{word-break:keep-all} /* 한국어 단어 단위 줄바꿈 */

/* 금액 강조 */
.amount{font-weight:800;color:#111827}

/* Empty state */
.empty{padding:32px;text-align:center;color:#6b7280;font-weight:700;border:1px dashed #e5e7eb;border-radius:1rem;background:#fff}

/* Count 표시 */
.count{font-size:13px;color:#6b7280;font-weight:600;background:#fff;padding:.4rem .8rem;border:1px solid #e5e7eb;border-radius:.5rem;white-space:nowrap}

/* Mobile responsive - 더 작은 글씨 크기 */
@media (max-width:640px){
  .search-container{flex-direction:column;align-items:stretch}
  .search{width:100%}
  .count{text-align:center;width:100%}

  .meta-info{
    grid-template-columns:minmax(95px, 130px) 1fr;
    column-gap:10px;
    row-gap:8px;
  }
  .meta-label{font-size:9.5px}
  .meta-value{font-size:9.5px}
  .project-title-en{font-size:13px}
  .project-title-ko{font-size:11px}
  .badge{font-size:9.5px;padding:.2rem .5rem}
  .chip{font-size:11px;padding:.4rem .8rem}
}
</style>

<!-- ===== Page Title / Banner ===== -->
<section class="max-w-7xl mx-auto px-4 mt-6">
  <div class="relative rounded-2xl overflow-hidden ring-1 ring-slate-200">
    <img src="{{ '/assets/img/banners/projects-hero.jpg' | relative_url }}"
         alt="Projects banner"
         class="w-full h-[200px] md:h-[260px] object-cover"
         width="1600" height="320">
    <div class="absolute inset-0 bg-black/45"></div>
    <div class="absolute inset-x-0 bottom-4 px-4">
      <div class="max-w-7xl mx-auto text-white">
        <!-- Breadcrumbs -->
        <nav aria-label="Breadcrumb" class="breadcrumbs mb-1">
          <a href="{{ '/' | relative_url }}">Home</a>
          <span class="sep">›</span>
          <span aria-current="page" class="font-semibold">Projects</span>
        </nav>
        <!-- Title -->
        <h1 class="text-2xl md:text-3xl font-extrabold">Research Projects</h1>
      </div>
    </div>
  </div>
</section>

<!-- ===== Toolbar (Search + Filters) ===== -->
<section class="max-w-7xl mx-auto px-4">
  <div class="toolbar">
    <!-- Search Bar -->
    <div class="search-container">
      <div class="search">
        <input id="q" type="text" placeholder="Search projects..." />
      </div>
      <div class="count" id="count"></div>
    </div>

    <!-- Funding Filter -->
    <div class="filter-section">
      <label class="filter-label">Funding Type</label>
      <div class="chips" id="fundingChips"></div>
    </div>

    <!-- Status Filter -->
    <div class="filter-section">
      <label class="filter-label">Project Status</label>
      <div class="chips" id="statusChips"></div>
    </div>
  </div>
</section>

<!-- ===== Content ===== -->
<section class="max-w-7xl mx-auto px-4 pb-8">
  <div class="grid" id="grid"></div>
</section>

<script>
(() => {
  /* ===== Raw Data ===== */
  const PROJECTS = [
    {
      titleEn: "Portfolio Risk Assessment and Investment Transparency with Explainable AI",
      titleKo: "설명 가능한 인공지능 기법을 활용한 투자 성향 결정 요인 분석",
      period: "2025-05-27 – 2025-09-12",
      fundingAgency: "Korea Institute of Public Finance",
      amount: "₩1,000,000",
      keywords: ["xAI", "Household Finance", "Investment Propensity"],
      type: "public", // Government-Funded
      roles: {
        principalInvestigator: "Insu Choi",
        leadResearcher: "Insu Choi",
        researchers: ["Insu Choi"]
      }
    },
    {
      titleEn: "Development of Quantum Computing Applications in Financial Risk Management",
      titleKo: "금융 리스크 관리를 위한 양자컴퓨팅 응용 개발",
      period: "2024-03-01 – 2025-02-28",
      fundingAgency: "Korea Institute of Science and Technology",
      amount: "₩200,000,000",
      keywords: ["QUANTUM", "FINANCE", "RISK"],
      type: "public",
      roles: {
        principalInvestigator: "Prof. Doyun Han",
        leadResearcher: "Seungmin Park",
        researchers: ["Jiwon Kang"]
      }
    }
  ];

  /* ===== Filters ===== */
  const FUNDING_TYPES = [
    { value: "public", label: "Government-Funded", color: "var(--public-red)" },
    { value: "private", label: "Industry-Funded", color: "var(--private-gold)" }
  ];
  const STATUSES = [
    { value: "ongoing", label: "Ongoing", color: "var(--ongoing-black)" },
    { value: "completed", label: "Completed", color: "var(--completed-gray)" }
  ];

  const onFunding = new Set(); // Empty = no filter
  const onStatus  = new Set(); // Empty = no filter

  /* ===== Utils ===== */
  function parseStartDate(period){
    const m = period.match(/^(\d{4})-(\d{2})-(\d{2})/);
    return m ? new Date(`${m[1]}-${m[2]}-${m[3]}T00:00:00`) : new Date(0);
  }
  function parseEndDate(period){
    const m = period.match(/–\s*(\d{4})-(\d{2})-(\d{2})$/);
    return m ? new Date(`${m[1]}-${m[2]}-${m[3]}T23:59:59`) : new Date(0);
  }
  function computeStatus(period){
    const end = parseEndDate(period);
    const today = new Date(); // client local
    return (end.getTime() >= today.getTime()) ? "ongoing" : "completed";
  }
  function formatPeriod(period){
    // "2024-09-01 – 2025-08-31" -> "Sep 2024 – Aug 2025"
    const parts = period.split(' – ');
    if(parts.length !== 2) return period;
    const startDate = new Date(parts[0]);
    const endDate   = new Date(parts[1]);
    const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
    const startStr = `${months[startDate.getMonth()]} ${startDate.getFullYear()}`;
    const endStr   = `${months[endDate.getMonth()]} ${endDate.getFullYear()}`;
    return `${startStr} – ${endStr}`;
  }
  function getFundingColor(type){
    return type === 'private' ? 'var(--private-gold)' : 'var(--public-red)';
  }
  function byStartDesc(a,b){ return parseStartDate(b.period) - parseStartDate(a.period); }
  function esc(s){ return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

  /* ===== DOM ===== */
  const qInput = document.getElementById('q');
  const grid   = document.getElementById('grid');
  const count  = document.getElementById('count');
  const fundingChips = document.getElementById('fundingChips');
  const statusChips  = document.getElementById('statusChips');
  let q = "";

  /* ===== Build Filter Chips ===== */
  function buildChips(){
    fundingChips.innerHTML = FUNDING_TYPES.map(t => {
      const active = onFunding.has(t.value);
      return `
        <button class="chip ${active ? 'is-on':''}" data-funding="${t.value}"
                style="${active ? `background:${t.color};color:#fff` : ''}">
          ${t.label}
        </button>`;
    }).join('');

    statusChips.innerHTML = STATUSES.map(s => {
      const active = onStatus.has(s.value);
      return `
        <button class="chip ${active ? 'is-on':''}" data-status="${s.value}"
                style="${active ? `background:${s.color};color:#fff` : ''}">
          ${s.label}
        </button>`;
    }).join('');

    fundingChips.querySelectorAll('[data-funding]').forEach(btn=>{
      btn.onclick = () => {
        const v = btn.dataset.funding;
        onFunding.has(v) ? onFunding.delete(v) : onFunding.add(v);
        buildChips(); render();
      };
    });
    statusChips.querySelectorAll('[data-status]').forEach(btn=>{
      btn.onclick = () => {
        const v = btn.dataset.status;
        onStatus.has(v) ? onStatus.delete(v) : onStatus.add(v);
        buildChips(); render();
      };
    });
  }

  /* ===== Filtering ===== */
  function matchesQuery(project){
    if(!q) return true;
    const roles = project.roles || {};
    const rolesText = [roles.principalInvestigator, roles.leadResearcher, ...(roles.researchers||[])].filter(Boolean).join(' ');
    const keywordsText = (project.keywords||[]).join(' ');
    const fundingText = project.type === 'private' ? 'industry funded' : 'government funded';
    const statusText = computeStatus(project.period);
    const searchText = `${project.titleEn} ${project.titleKo} ${project.fundingAgency} ${rolesText} ${keywordsText} ${fundingText} ${statusText}`.toLowerCase();
    return searchText.includes(q.toLowerCase());
  }
  function passFunding(project){
    return onFunding.size ? onFunding.has(project.type) : true;
  }
  function passStatus(project){
    const s = computeStatus(project.period);
    return onStatus.size ? onStatus.has(s) : true;
  }
  function filterProjects(){
    return PROJECTS.filter(passFunding).filter(passStatus).filter(matchesQuery).sort(byStartDesc);
  }

  /* ===== Card ===== */
  function createCard(project){
    const fundingColor = getFundingColor(project.type);
    const periodFmt    = formatPeriod(project.period);
    const status       = computeStatus(project.period); // "ongoing" | "completed"

    // Badges: keywords + funding + status
    const keywordBadges = (project.keywords||[]).map(k=>`<span class="badge">${esc(k)}</span>`).join('');
    const fundingBadge  = `<span class="badge" style="border-color:${fundingColor};color:${fundingColor}">${project.type==='private'?'Industry-Funded':'Government-Funded'}</span>`;
    const statusBadge   = `<span class="badge" style="border-color:${status==='ongoing'?'#111827':'#9ca3af'};color:${status==='ongoing'?'#111827':'#6b7280'}">${status==='ongoing'?'Ongoing':'Completed'}</span>`;

    // Roles
    const r = project.roles || {};
    const pi  = r.principalInvestigator ? esc(r.principalInvestigator) : '—';
    const lead= r.leadResearcher ? esc(r.leadResearcher) : '—';
    const res = (r.researchers && r.researchers.length) ? r.researchers.map(esc).join(', ') : '—';

    const outerClass = project.type === 'private' ? 'card--private' : 'card--public';
    const notchColor  = fundingColor;

    return `
      <article class="card ${outerClass}">
        <div class="inner">
          <div class="type-notch" style="background:${notchColor}"></div>
          <div class="body">
            <!-- Status Badges (funding + status) -->
            <div class="badges-status">
              ${fundingBadge}
              ${statusBadge}
            </div>
            
            <!-- Keyword Badges -->
            <div class="badges-keywords">
              ${keywordBadges}
            </div>

            <!-- Titles -->
            <div class="project-title-en">${esc(project.titleEn)}</div>
            <div class="project-title-ko"><span class="ko">${esc(project.titleKo)}</span></div>

            <!-- Meta (grid with extra spacing between label and value) -->
            <div class="meta-info">
              <div class="meta-item">
                <span class="meta-label">Period</span>
                <span class="meta-value">${esc(periodFmt)}</span>
              </div>
              <div class="meta-item">
                <span class="meta-label">Funding Agency</span>
                <span class="meta-value">${esc(project.fundingAgency)}</span>
              </div>
              <div class="meta-item">
                <span class="meta-label">Amount</span>
                <span class="meta-value amount">${esc(project.amount)}</span>
              </div>
              <div class="meta-item">
                <span class="meta-label">Principal Investigator</span>
                <span class="meta-value">${pi}</span>
              </div>
              <div class="meta-item">
                <span class="meta-label">Lead Researcher</span>
                <span class="meta-value">${lead}</span>
              </div>
              <div class="meta-item">
                <span class="meta-label">Researchers</span>
                <span class="meta-value">${res}</span>
              </div>
            </div>
          </div>
        </div>
      </article>
    `;
  }

  /* ===== Render ===== */
  function render(){
    const data = filterProjects();
    if(data.length === 0){
      grid.innerHTML = `<div class="empty">No projects found. Try adjusting your search query or filters.</div>`;
    } else {
      grid.innerHTML = data.map(createCard).join('');
    }
    count.textContent = `${data.length} of ${PROJECTS.length}`;
  }

  /* ===== Init ===== */
  const qInput = document.getElementById('q');
  qInput.addEventListener('input', (e) => { q = e.target.value; render(); });

  buildChips();
  render();
})();
</script>
